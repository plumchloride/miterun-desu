<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>ミテルンデス</title>
    <meta name="description" content="授業態度監視アプリケーション">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://plumchloride.github.io/miterun-desu/icon.png" />

    <link rel="stylesheet" href="https://unpkg.com/sanitize.css">
    <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">

    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>

    <script src="./script.js" defer></script>
  </head>
  <body>
    <nav><h1>ミテルンデス</h1></nav>
    <video class="input_video non-visi"></video>
    <div id="contents_body">
      <div id="eye_info"><span id="left_eye_info">●</span><span id="miken"> </span><span id="right_eye_info">●</span></div>
      <canvas class="output_canvas"></canvas>
      <br>
      <label><input id="face_checke" type="checkbox" checked>カメラ映像を表示する</label><br>
      <label><input id="dec_checke" type="checkbox" checked>推測結果を表示する</label>
      <div id="cam_ui">
        <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0 0 48 48" id="cam_on" class="non-visi"><path d="M7 40q-1.2 0-2.1-.9Q4 38.2 4 37V11q0-1.2.9-2.1Q5.8 8 7 8h26q1.2 0 2.1.9.9.9.9 2.1v10.75l8-8v20.5l-8-8V37q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h26V11H7v26Zm0 0V11v26Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0 0 48 48" id="cam_off"><path d="m44 34.25-8-8v5.55l-3-3V11H15.2l-3-3H33q1.2 0 2.1.9.9.9.9 2.1v10.75l8-8Zm-1.6 12.4L1.95 6.2l2.1-2.1L44.5 44.55ZM24.2 20Zm-4.35 4.1ZM7.95 8l3 3H7v26h26v-3.95l3 3V37q0 1.2-.9 2.1-.9.9-2.1.9H7q-1.2 0-2.1-.9Q4 38.2 4 37V11q0-1.2.9-2.1Q5.8 8 7 8Z"/></svg>
      </div>
      <div>
        <p>映像データはサーバーに送信していないため、安全にご利用できます。<br>カメラに対して正面を向いていない場合精度が下がる可能性があります。</p>
        <p>カメラ下のバーが左右の５秒間における目を閉じている割合を示しています。<br>通常状態から５割以上目を閉じていると睡眠と判定され、２割以下に下がるまでこの状態が継続されます。</p>
        <p>カメラ開始直後は割合が大きく表示されますが、５秒経過するまで睡眠と判断しません。</p>
        <p><a href="https://github.com/plumchloride/miterun-desu" target="_blank">Code : GitHub</a></p>
      </div>
    </div>
  </body>
</html>